<html>
<head>
    <script>
        var FONTS = [
            'Courier',
            'YasashisaAntique',
            'VL Gothic',
        ];

        function initFontList() {
            var sel = document.getElementById('font');
            sel.size = FONTS.length;
            
            for (let i=0; i < FONTS.length; i++) {
                var opt = document.createElement("option");
                opt.text = FONTS[i];
                sel.add(opt);

                if (i === 0)
                    opt.selected = true;
            }
        }

        function updatePreview(event) {
            var text = document.getElementById('input').value;
            document.getElementById('output').textContent = text;
        }

        function updateWidth(e) {
            var newWidth = document.getElementById('width').value;
            console.log(`set width: ${newWidth}`);
            document.getElementById('outDiv').style.width = newWidth;
        }

        function updateFont(event) {
            var newFont = event.target.value;
            console.log(`set font-family: ${newFont}`);
            document.getElementById('outDiv').style['font-family'] = newFont;
        }

        function updateWordWrap(event) {
            var newWrapStyle = event.target.value;
            console.log(`set word-wrap: ${newWrapStyle}`);
            document.getElementById('outDiv').style['word-wrap'] = newWrapStyle;
        }

        window.onload = () => {
            var input = document.getElementById('input');
            input.addEventListener('keyup', updatePreview);
            input.focus();
            input.select();

            document.getElementById('width').onkeyup = updateWidth;

            document.getElementById('font').onchange = updateFont;

            document.getElementById('wrapStyle').onchange = updateWordWrap;

            initFontList();
        };
    </script>
    

    <style>
        @font-face {
            font-family: "YasashisaAntique";
            src: url(fonts/07YasashisaAntique.ttf) format("truetype");
        }

        @font-face {
            font-family: "VL Gothic";
            src: url(fonts/VL-Gothic-Regular.ttf) format("truetype");
        }

        body {
            font-family: Verdana, sans-serif;
        }
        
        div.outDiv {
            font-family: Courier;
            width: 500px;
            word-wrap: normal;
            background-color: #dddddd;
            margin: 5px;
        }

        div.style-control {
            display: flex;
            font-size: 12px;
        }

        div.style-col {
            width: auto;
            padding: 6px;
            margin: 3px;
            background-color: #dddddd;
        }
    </style>
</head>

<body>
    <textarea id="input" rows="6" cols="60">Edit text here.</textarea>
    <br>
    
    <div class="style-control">

        <div class="style-col">
            <b>Font:</b><br>
            <select id="font">
            </select>
        </div>
        
        <div class="style-col">
            <b>Wrap style:</b><br>
            <select id="wrapStyle" size="3">
                <option value="normal" selected="true">Don't break words</option>
                <option value="break-word">Break words</option>
            </select>
        </div>

        <div class="style-col">
            <b>Width:</b><br>
            <input type="text" id="width" placeholder="500px" style="width: 60px">
        </div>

    </div>
    <div class="outDiv" id="outDiv">
        <p class="text" id="output">
            The formatted result appears here.
        </p>
    </div>
</body>

</html>
